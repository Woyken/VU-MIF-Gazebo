<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

<ui:define name="metadata">
    <f:metadata>
        <f:event type="preRenderView" listener="#{passwordRemindController.onPageLoad}"/>
        <f:param name="enclyptedLink" value="#{passwordRemindController.encryptedLink}" />
        <f:event type="preRenderView" listener="#{userController.onPageLoad}"/>
    </f:metadata>
</ui:define>

<h:head/>
<h:body>
    <div class="row column text-center section">
        <h1 class="section-title">Slaptažodžio pakeitimas</h1>
    </div>

    <p:outputLabel id="errorMessage" value="#{passwordRemindController.message}" styleClass="red" rendered="${!empty passwordRemindController.message}" />
    <h:form rendered="#{empty passwordRemindController.message}" id="df">
        <p:messages id="messages" autoUpdate="true"/>
        <h:panelGrid id="matchGrid">
            <h:outputLabel value="Slaptažodis"/>
            <p:password value="#{passwordRemindController.password}" match="repeat-password" validatorMessage="Slaptažodžiai nesutampa">
                <f:validateLength minimum="1" />
            </p:password>
            <h:outputLabel value="Pakartokite slaptažodį"/>
            <p:password id="repeat-password" value="#{passwordRemindController.passwordRepeat}" >
                <f:validateLength minimum="1" />
            </p:password>
        </h:panelGrid>
        <p:commandButton update="matchGrid " action="#{passwordRemindController.save}" value="Keisti slaptažodį"/>
    </h:form>

</h:body>
</html>